### 1、CAP

说到分布式系统就不得不说CAP理论，CAP定理又称为布鲁尔定理，是加州大学伯克利分校的计算机科学家埃里克·布鲁尔提出来的一个猜想，目前算是分布式计算领域公认的一个定理。**在一个分布式系统（指相互连接并共享数据的节点的集合）中，当涉及读写操作时，只能保证一致性（Consistence）、可用性（Availability）、分区容错性（Partition Tolerance）三者中的两个，另外一个必须被牺牲。**

- 一致性（Consistence）：对某个指定的客户端来说，读操作保证能够返回最新的写操作结果。
- 可用性（Availability）：非故障的节点在合理的时间内返回合理的响应。
- 分区容错性（Partition Tolerance）：当出现网络分区后，系统能够继续履行职责。

在分布式环境下，网络本身无法做到100%可靠，有可能出现故障，所以分区是一个必然现象。通过反证法，如果我们选择CA而放弃P，当发生分区现象时，为了保证C，系统需要禁止写入，这是就和A冲突了，因此分布式系统理论上不能选择CA模式，只能选择CP或AP模式。

**在CAP中有几个关键的细节点：**

- CAP关注的粒度是数据，而不是整个系统。
- CAP是忽略网络延迟的。
- 正常运行情况下，不存在CP和AP的选择，可以同时满足CA。
- 放弃并不等于什么都不做，需要为分区恢复后做准备。

### 2、BASE

**BASE是指基本可用（Basically Available）、软状态（Soft State）、最终一致性（Eventual Consistency）三个名词首字母的缩写，是对CAP中AP的一种扩展。核心思想是即使无法做到强一致性（CAP的一致性就是强一致性），但应用可以采用合适的方式达到最终一致性。**

- 基本可用：分布式系统在出现故障时，允许损失部分可用性，保证核心可用。
- 软状态：允许系统存在中间状态，而该中间状态不会影响系统整体的可用性。
- 最终一致性：系统中所有数据副本经过一定时间后，最终能够达到一致的状态。